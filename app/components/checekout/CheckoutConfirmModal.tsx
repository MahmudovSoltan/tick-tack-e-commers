"use client"
import { useCountdown } from "@/app/hooks/useCountdown"
import { Dispatch, SetStateAction, useEffect } from "react"

interface PropsType {
  setIsModal: Dispatch<SetStateAction<boolean>>
}

const CheckoutConfirmModal = ({ setIsModal }: PropsType) => {
  const time = useCountdown(180)

  // Bu useEffect yalnız clientdə işləyəcək
  useEffect(() => {
    if (time === "00:00") {
      setIsModal(false)
    }
  }, [time, setIsModal])

  return (
    <div className="confirm_modal_cotainer">
      <div onClick={() => setIsModal(false)} className="owarlay"></div>
      <div className="soncirm_modal_content">
        <div>
          {/* SVG burda qalır – istəsən ayrıca komponentə bölə bilərsən */}
                   <svg width="294" height="230" viewBox="0 0 294 230" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path opacity="0.1" d="M30.9689 22.9388C29.0525 23.7338 27.0857 24.7543 26.0325 26.5431C24.9171 28.4328 25.0506 30.7793 25.2583 32.9657C27.0679 51.9277 31.8352 72.0941 23.6029 89.2703C19.6069 97.6032 12.9232 104.281 7.60715 111.848C2.29104 119.416 -1.72273 128.864 0.745457 137.767C3.7595 148.645 15.0088 154.676 22.5913 163.048C27.5544 168.521 31.0342 175.172 35.665 180.93C40.2958 186.688 46.6413 191.761 54.034 192.099C64.6663 192.588 73.3168 183.407 83.7413 181.28C94.421 179.103 105.175 184.644 113.834 191.277C122.494 197.91 130.37 205.947 140.459 210.088C151.602 214.665 164.162 213.965 175.892 216.715C186.572 219.222 196.403 224.553 207.005 227.395C217.608 230.237 230.035 230.064 238.249 222.805C248.956 213.312 248.113 196.403 254.951 183.846C261.303 172.179 273.736 165.213 282.104 154.899C297.163 136.334 296.67 107.959 283.884 87.7692C271.098 67.5791 247.938 55.354 224.256 52.1709C213.576 50.7381 202.579 50.9339 192.312 47.6737C164.83 38.9521 148.475 7.70273 120.417 1.20011C102.582 -2.92632 85.2365 4.22003 70.0447 13.0158C56.8582 20.6516 44.6923 17.246 30.9689 22.9388Z" fill="#92D871" />
                        <path d="M57.7521 84.2012C57.7521 84.2012 47.6272 93.7563 36.7606 94.0411C32.1975 94.132 27.7869 95.7007 24.1912 98.5117C22.4917 99.8552 20.9187 101.352 19.4922 102.982" stroke="#535461" strokeWidth="2" strokeMiterlimit="10" />
                        <path d="M12.6375 103.215C14.0971 102.473 19.6687 102.966 19.6687 102.966C19.6687 102.966 16.7791 107.757 15.3194 108.499C14.9699 108.706 14.5814 108.839 14.1783 108.89C13.7751 108.941 13.3657 108.908 12.9756 108.794C12.5855 108.681 12.2229 108.488 11.9104 108.228C11.5979 107.968 11.342 107.647 11.1587 107.285C10.9754 106.922 10.8686 106.525 10.8449 106.12C10.8212 105.714 10.8811 105.308 11.0208 104.926C11.1606 104.545 11.3773 104.196 11.6574 103.901C11.9375 103.607 12.2752 103.373 12.6494 103.215H12.6375Z" fill="#6FBF4A" />
                        <path d="M18.503 94.7462C20.1317 94.9183 24.5403 98.3596 24.5403 98.3596C24.5403 98.3596 19.4968 100.81 17.8829 100.641C17.1278 100.527 16.4458 100.126 15.9788 99.5219C15.5118 98.9177 15.2958 98.1567 15.3757 97.3973C15.4555 96.6378 15.8252 95.9384 16.4077 95.4446C16.9902 94.9508 17.7407 94.7007 18.503 94.7462Z" fill="#6FBF4A" />
                        <path d="M32.4108 87.9163C33.728 88.8864 35.7988 94.084 35.7988 94.084C35.7988 94.084 30.2184 93.6598 28.9011 92.6927C28.3074 92.213 27.9214 91.523 27.8234 90.766C27.7254 90.0091 27.9229 89.2435 28.3748 88.6284C28.8268 88.0133 29.4984 87.5961 30.2501 87.4635C31.0018 87.3309 31.7756 87.493 32.4108 87.9163Z" fill="#6FBF4A" />
                        <path d="M44.0978 85.1271C45.5604 85.8599 48.4797 90.6333 48.4797 90.6333C48.4797 90.6333 42.9082 91.1584 41.4455 90.4256C41.0765 90.2645 40.7442 90.0299 40.4687 89.7362C40.1932 89.4425 39.9805 89.0957 39.8433 88.7171C39.7062 88.3385 39.6476 87.936 39.6711 87.534C39.6945 87.132 39.7996 86.739 39.9798 86.3789C40.1601 86.0188 40.4117 85.6992 40.7195 85.4395C41.0272 85.1798 41.3846 84.9855 41.7699 84.8684C42.1552 84.7513 42.5603 84.7138 42.9605 84.7583C43.3607 84.8028 43.7477 84.9283 44.0978 85.1271Z" fill="#6FBF4A" />
                        <path d="M27.6416 103.762C28.1282 102.198 26.7041 96.787 26.7041 96.787C26.7041 96.787 22.4676 100.442 21.9811 102.005C21.844 102.383 21.7849 102.784 21.8074 103.185C21.8299 103.586 21.9336 103.978 22.1121 104.337C22.2906 104.697 22.5402 105.017 22.8459 105.277C23.1515 105.537 23.5069 105.733 23.8903 105.852C24.2738 105.971 24.6774 106.011 25.0767 105.969C25.4761 105.928 25.8628 105.805 26.2135 105.61C26.5643 105.415 26.8717 105.15 27.1171 104.832C27.3626 104.515 27.541 104.15 27.6416 103.762Z" fill="#6FBF4A" />
                        <path d="M41.2654 100.312C41.2654 98.6739 38.2839 93.9391 38.2839 93.9391C38.2839 93.9391 35.3349 98.6858 35.3379 100.329C35.3403 101.116 35.6551 101.87 36.2131 102.425C36.7712 102.979 37.5267 103.29 38.3135 103.287C39.1004 103.285 39.854 102.97 40.4087 102.412C40.9634 101.854 41.2737 101.098 41.2714 100.312H41.2654Z" fill="#6FBF4A" />
                        <path d="M54.0513 95.1613C54.3243 93.5474 52.1882 88.3765 52.1882 88.3765C52.1882 88.3765 48.4768 92.5654 48.2068 94.1793C48.1157 94.9365 48.3196 95.6997 48.7762 96.3105C49.2329 96.9212 49.9072 97.3327 50.6593 97.4594C51.4113 97.5862 52.1833 97.4184 52.8149 96.9911C53.4465 96.5637 53.8893 95.9095 54.0513 95.1643V95.1613Z" fill="#6FBF4A" />
                        <path d="M70.9077 58.8979C70.9077 58.8979 58.7121 52.1995 55.087 41.9383C53.5976 37.6234 50.7485 33.9082 46.9675 31.3507C45.1631 30.1501 43.2526 29.1174 41.2598 28.2656" stroke="#535461" strokeWidth="2" strokeMiterlimit="10" />
                        <path d="M38.9465 21.811C40.1005 22.9709 41.3436 28.4267 41.3436 28.4267C41.3436 28.4267 35.8966 27.151 34.7426 25.9881C34.2329 25.4221 33.9605 24.6818 33.9816 23.9205C34.0027 23.1592 34.3159 22.4352 34.8561 21.8984C35.3964 21.3616 36.1224 21.0531 36.8838 21.0368C37.6452 21.0206 38.3838 21.2977 38.9465 21.811Z" fill="#6FBF4A" />
                        <path d="M48.8114 24.7873C49.1496 26.3893 47.2302 31.6433 47.2302 31.6433C47.2302 31.6433 43.3526 27.6116 43.0144 26.0066C42.914 25.6184 42.8934 25.214 42.9537 24.8176C43.014 24.4212 43.154 24.0412 43.3652 23.7005C43.5765 23.3597 43.8547 23.0653 44.1829 22.8351C44.5111 22.6048 44.8826 22.4435 45.2749 22.3608C45.6672 22.2781 46.0722 22.2758 46.4654 22.3541C46.8587 22.4323 47.2319 22.5894 47.5628 22.8159C47.8936 23.0424 48.175 23.3336 48.3902 23.6719C48.6053 24.0102 48.7496 24.3886 48.8144 24.7843L48.8114 24.7873Z" fill="#6FBF4A" />
                        <path d="M59.5783 35.9374C59.0621 37.4889 54.7514 41.0579 54.7514 41.0579C54.7514 41.0579 53.4401 35.6199 53.9563 34.0654C54.2045 33.3179 54.7396 32.6997 55.4437 32.3466C56.1477 31.9936 56.9632 31.9348 57.7107 32.183C58.4582 32.4313 59.0765 32.9663 59.4295 33.6703C59.7825 34.3744 59.8414 35.1899 59.5931 35.9374H59.5783Z" fill="#6FBF4A" />
                        <path d="M65.8335 46.1812C65.5873 47.7981 61.9412 52.0434 61.9412 52.0434C61.9412 52.0434 59.728 46.9051 59.9742 45.2883C60.0152 44.8887 60.137 44.5016 60.3321 44.1505C60.5271 43.7993 60.7915 43.4915 61.1091 43.2455C61.4267 42.9996 61.791 42.8208 62.1798 42.7198C62.5686 42.6188 62.9738 42.5979 63.371 42.6582C63.7681 42.7185 64.1489 42.8589 64.4901 43.0707C64.8314 43.2826 65.1261 43.5615 65.3564 43.8907C65.5866 44.2198 65.7477 44.5923 65.8297 44.9855C65.9117 45.3787 65.913 45.7845 65.8335 46.1783V46.1812Z" fill="#6FBF4A" />
                        <path d="M43.0382 36.2558C44.6758 36.238 49.387 33.2179 49.387 33.2179C49.387 33.2179 44.6076 30.3105 42.9699 30.3283C42.1831 30.3374 41.4321 30.6586 40.8821 31.2214C40.3321 31.7841 40.0283 32.5423 40.0373 33.3291C40.0464 34.116 40.3676 34.867 40.9304 35.4169C41.4931 35.9669 42.2513 36.2708 43.0382 36.2617V36.2558Z" fill="#6FBF4A" />
                        <path d="M50.5017 48.1632C52.0563 47.6559 55.649 43.366 55.649 43.366C55.649 43.366 50.2169 42.0221 48.6623 42.5294C48.2787 42.6389 47.9211 42.8246 47.6109 43.0755C47.3007 43.3263 47.0443 43.6372 46.857 43.9894C46.6697 44.3417 46.5554 44.7281 46.5209 45.1255C46.4864 45.5229 46.5324 45.9233 46.6561 46.3025C46.7799 46.6818 46.9789 47.0322 47.2412 47.3328C47.5035 47.6333 47.8237 47.8779 48.1827 48.0519C48.5417 48.2259 48.9321 48.3257 49.3306 48.3453C49.729 48.3649 50.1274 48.304 50.5017 48.1661V48.1632Z" fill="#6FBF4A" />
                        <path d="M59.3422 58.738C60.9621 58.5007 65.2283 54.8813 65.2283 54.8813C65.2283 54.8813 60.1017 52.6385 58.4848 52.8758C58.0866 52.9168 57.7008 53.0381 57.3507 53.2321C57.0006 53.4262 56.6934 53.6891 56.4475 54.0051C56.2017 54.321 56.0224 54.6835 55.9203 55.0705C55.8182 55.4576 55.7956 55.8614 55.8537 56.2574C55.9118 56.6535 56.0494 57.0337 56.2584 57.3752C56.4673 57.7167 56.7432 58.0123 57.0694 58.2444C57.3956 58.4764 57.7654 58.64 58.1565 58.7254C58.5476 58.8107 58.952 58.816 59.3452 58.741L59.3422 58.738Z" fill="#6FBF4A" />
                        <path d="M154.835 221.424C214.145 221.424 262.225 173.344 262.225 114.035C262.225 54.7265 214.145 6.64719 154.835 6.64719C95.5255 6.64719 47.4453 54.7265 47.4453 114.035C47.4453 173.344 95.5255 221.424 154.835 221.424Z" fill="url(#paint0_linear_9_7632)" />
                        <path d="M154.837 219.644C213.163 219.644 260.447 172.361 260.447 114.035C260.447 55.7095 213.163 8.42709 154.837 8.42709C96.5098 8.42709 49.2266 55.7095 49.2266 114.035C49.2266 172.361 96.5098 219.644 154.837 219.644Z" fill="#92D871" />
                        <path d="M154.835 197.991C201.202 197.991 238.789 160.404 238.789 114.038C238.789 67.6723 201.202 30.0854 154.835 30.0854C108.468 30.0854 70.8809 67.6723 70.8809 114.038C70.8809 160.404 108.468 197.991 154.835 197.991Z" fill="#FCFCFC" />
                        <path opacity="0.3" d="M157.209 44.9135H152.463V119.077H157.209V44.9135Z" fill="#535461" />
                        <g opacity="0.1">
                            <path opacity="0.1" d="M226.922 112.26H159.877V118.193H226.922V112.26Z" fill="black" />
                            <path opacity="0.1" d="M112.543 90.0632L109.791 95.3192L151.976 117.41L154.729 112.154L112.543 90.0632Z" fill="black" />
                            <path opacity="0.1" d="M154.833 124.127C159.749 124.127 163.733 120.143 163.733 115.228C163.733 110.312 159.749 106.328 154.833 106.328C149.918 106.328 145.934 110.312 145.934 115.228C145.934 120.143 149.918 124.127 154.833 124.127Z" fill="black" />
                        </g>
                        <path d="M226.924 111.066H159.879V116.999H226.924V111.066Z" fill="#535461" />
                        <path d="M154.75 110.97L112.564 88.8788L109.812 94.1348L151.997 116.226L154.75 110.97Z" fill="#535461" />
                        <path d="M154.835 122.933C159.75 122.933 163.735 118.949 163.735 114.034C163.735 109.119 159.75 105.134 154.835 105.134C149.92 105.134 145.936 109.119 145.936 114.034C145.936 118.949 149.92 122.933 154.835 122.933Z" fill="#535461" />
                        <g opacity="0.1">
                            <path opacity="0.1" d="M77.4016 124.119C77.4016 77.7522 114.988 40.1663 161.356 40.1663C174.37 40.1548 187.208 43.1737 198.853 48.9838C210.498 54.794 220.631 63.2357 228.448 73.6406C214.161 47.6776 186.572 30.0801 154.829 30.0801C108.462 30.0801 70.8751 67.666 70.8751 114.033C70.8478 132.248 76.772 149.973 87.746 164.511C80.9404 152.137 77.3815 138.241 77.4016 124.119Z" fill="black" />
                        </g>
                        <g opacity="0.1">
                            <path opacity="0.1" d="M197.582 139.849C197.582 139.849 196.956 141.104 196.098 142.611C194.788 141.911 193.522 141.132 192.307 140.279L192.046 140.095L191.906 139.994L193.39 138.357L197.582 139.849Z" fill="black" />
                        </g>
                        <g opacity="0.1">
                            <path opacity="0.1" d="M187.826 141.483C187.442 141.849 187.129 142.284 186.904 142.764C184.794 141.812 182.578 140.611 181.771 140.166L181.709 140.133C182.111 139.626 182.572 139.169 183.083 138.771C183.083 138.771 188.912 140.534 187.826 141.483Z" fill="black" />
                        </g>
                        <g opacity="0.1">
                            <path opacity="0.1" d="M199.357 53.5721C198.559 54.6129 197.491 55.4156 196.27 55.8935C195.048 56.3714 193.719 56.5063 192.427 56.2836C192.353 54.7647 192.038 53.2487 191.213 52.3231C189.045 49.8845 198.259 50.2909 198.259 50.2909C198.542 51.4107 198.909 52.5075 199.357 53.5721Z" fill="black" />
                        </g>
                        <g opacity="0.1">
                            <path opacity="0.1" d="M214.012 66.3585C213.015 66.7264 209.155 68.2839 208.728 70.5119C208.464 69.5194 208.266 68.5105 208.135 67.4918L212.882 64.9167C213.332 65.3349 213.713 65.8215 214.012 66.3585Z" fill="black" />
                        </g>
                        <g opacity="0.1">
                            <path opacity="0.1" d="M184.573 66.556C184.203 67.6159 183.777 68.6557 183.297 69.671C183.113 68.3301 182.357 64.9006 179.363 63.794C179.957 62.9841 180.372 62.4946 180.372 62.4946L184.573 66.556Z" fill="black" />
                        </g>
                        <g opacity="0.1">
                            <path opacity="0.1" d="M205.438 100.012C205.438 100.012 199.279 99.5225 193.937 99.2911L193.4 99.2673C192.64 99.2377 191.916 99.2139 191.207 99.1962C186.022 99.0716 180.157 97.259 179.16 96.9416C179.534 96.3622 179.938 95.8027 180.371 95.2655L188.502 97.0454C188.502 97.0454 189.783 97.4548 192.631 98.7156L187.959 95.2655L202.199 97.8404C202.199 97.8404 202.694 97.7782 205.313 99.2436L205.438 100.012Z" fill="black" />
                        </g>
                        <path opacity="0.05" d="M216.62 73.9343C216.62 73.9343 215.537 76.5094 216.077 77.3223L216.62 73.9343Z" fill="black" />
                        <path opacity="0.05" d="M173.395 73.1259C173.395 73.1259 173.938 75.701 173.395 76.5138V73.1259Z" fill="black" />
                        <defs>
                            <linearGradient id="paint0_linear_9_7632" x1="154.835" y1="221.424" x2="154.835" y2="6.64719" gradientUnits="userSpaceOnUse">
                                <stop stopColor="#808080" stopOpacity="0.25" />
                                <stop offset="0.54" stopColor="#808080" stopOpacity="0.12" />
                                <stop offset="1" stopColor="#808080" stopOpacity="0.1" />
                            </linearGradient>
                        </defs>
                    </svg>
        </div>
        <div>
          <div className="confirm_text">Sifarişinizi təsdiqləyiniz</div>
          <p className="time">Vaxtın bitməsinə {time} qaldı</p>
        </div>
        <div className="modal_btns">
          <button>Təsdiqlə</button>
          <button onClick={() => setIsModal(false)}>İndi yox</button>
        </div>
      </div>
    </div>
  )
}

export default CheckoutConfirmModal
